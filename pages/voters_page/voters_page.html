<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBNHSelect Voters</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/styles/nav.css">
    <link rel="stylesheet" href="pages/voters_page/VRP_Interface.css">
</head>
<body>

<!-- Enhanced Top Navigation Bar -->
<nav class="top-nav">
  <!-- Floating background particles -->
  <div class="nav-particles">
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
  </div>
  
  <!-- Logo and system name -->
  <div class="nav-logo-section">
    <div class="nav-logo-placeholder">
      <i class="fas fa-vote-yea"></i>
    </div>
    <div class="nav-system-name">UBNHSelect System</div>
  </div>
  
  <!-- Desktop navigation menu -->
  <div class="nav-menu" id="desktopNavMenu">
    <a href="index.php?page=admin_dashboard" class="nav-item" data-page="admin_dashboard">
      <i class="fas fa-tachometer-alt"></i>
      <span>Dashboard</span>
    </a>
    <a href="index.php?page=candidates" class="nav-item" data-page="candidates">
      <i class="fas fa-users"></i>
      <span>Candidates</span>
    </a>
    <a href="index.php?page=voters_page" class="nav-item active" data-page="voters_page">
      <i class="fas fa-user-check"></i>
      <span>Voters Registration</span>
    </a>
    <a href="index.php?page=ssg_history" class="nav-item" data-page="ssg_history">
      <i class="fas fa-history"></i>
      <span>SSG History</span>
    </a>
    <a href="index.php?page=about" class="nav-item" data-page="about">
      <i class="fas fa-info-circle"></i>
      <span>About Us</span>
    </a>
    <a href="php/auth/logout.php" class="nav-item logout">
      <i class="fas fa-sign-out-alt"></i>
      <span>Logout</span>
    </a>
  </div>
  
  <!-- Mobile menu button -->
  <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleMobileMenu()">
    <i class="fas fa-bars"></i>
  </button>
  
  <!-- Mobile navigation menu -->
  <div class="mobile-nav-menu" id="mobileNavMenu">
    <a href="index.php?page=admin_dashboard" class="nav-item" data-page="admin_dashboard">
      <i class="fas fa-tachometer-alt"></i>
      <span>Admin Dashboard</span>
    </a>
    <a href="index.php?page=candidates" class="nav-item" data-page="candidates">
      <i class="fas fa-users"></i>
      <span>Candidates</span>
    </a>
    <a href="index.php?page=voters_page" class="nav-item active" data-page="voters_page">
      <i class="fas fa-user-check"></i>
      <span>Voters/Members Registration</span>
    </a>
    <a href="index.php?page=ssg_history" class="nav-item" data-page="ssg_history">
      <i class="fas fa-history"></i>
      <span>SSG President's History</span>
    </a>
    <a href="index.php?page=about" class="nav-item" data-page="about">
      <i class="fas fa-info-circle"></i>
      <span>About Us</span>
    </a>
    <a href="php/auth/logout.php" class="nav-item logout">
      <i class="fas fa-sign-out-alt"></i>
      <span>Logout</span>
    </a>
  </div>
</nav>

<div id="main">
  <main class="content">
   
    <center>
    <div class="container">
        <header>
        <img src="assets/images-UBNHS/UBNHS_-_LOGO-removebg.png" alt="UBNHS Logo" class="logo">
        <img src="assets/images-UBNHS/TEXT-LOGO2.png" alt="Web Logo" class="logo2">

        <h1>Voters Registration</h1>
        </header>

        <div class="table-container">
            <h3>STUDENTS LIST</h3>
           
        <!-- Add filter dropdowns and pagination controls above the table -->
        <div style="margin-bottom: 1em;">
          <label for="filter-year">Year Level:</label>
          <div class="select-wrapper">
            <select id="filter-year"></select>
          </div>
          <label for="filter-section" style="margin-left:1em;">Section:</label>
          <div class="select-wrapper">
            <select id="filter-section"></select>
          </div>
        </div>
        <div id="pagination-controls" style="margin-bottom: 1em;"></div>

            <table id="bsit1-1-table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Student Number</th>
                        <th>First Name</th>
                        <th>Middle Name</th>
                        <th>Last Name</th>
                        <th>Suffix</th>
                        <th>Year Level</th>
                        <th>Section</th>
                        <th>Email Address</th>
                        <th>Actions</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <!--Place for the real data - inserted by voters_page.js -->
                    </tr>
                </tbody>
            </table>
           
            <div class="button-container">
                <button onclick="addRow('bsit1-1-table')">Add Row</button>
                <form id="uploadForm-bsit1-1" onsubmit="submitForm(event)">
                    <input type="file" name="file" id="fileUpload-bsit1-1" accept=".csv" required>
                    <button type="submit">Upload CSV</button>
                </form>
                <button type="button" id="generateQrBtn">Generate QR</button>            
            </div>
        </div>
    </div>
    </center>
  </main>
</div>

<script src="pages/voters_page/voters_page.js"></script>

<script>
// ========================================
// ENHANCED NAVIGATION FUNCTIONALITY
// ========================================

// Mobile menu toggle with smooth animation
function toggleMobileMenu() {
  const mobileMenu = document.getElementById('mobileNavMenu');
  const mobileBtn = document.getElementById('mobileMenuBtn');
  const icon = mobileBtn.querySelector('i');
  
  mobileMenu.classList.toggle('active');
  
  // Animate hamburger to X
  if (mobileMenu.classList.contains('active')) {
    icon.classList.remove('fa-bars');
    icon.classList.add('fa-times');
    mobileBtn.style.transform = 'rotate(90deg)';
  } else {
    icon.classList.remove('fa-times');
    icon.classList.add('fa-bars');
    mobileBtn.style.transform = 'rotate(0deg)';
  }
}

// Close mobile menu when clicking outside
document.addEventListener('click', function(event) {
  const mobileMenu = document.getElementById('mobileNavMenu');
  const mobileBtn = document.getElementById('mobileMenuBtn');
  
  if (!mobileMenu.contains(event.target) && 
      !mobileBtn.contains(event.target) && 
      mobileMenu.classList.contains('active')) {
    toggleMobileMenu();
  }
});

// Close mobile menu on window resize
window.addEventListener('resize', function() {
  if (window.innerWidth > 768) {
    const mobileMenu = document.getElementById('mobileNavMenu');
    const mobileBtn = document.getElementById('mobileMenuBtn');
    const icon = mobileBtn.querySelector('i');
    
    if (mobileMenu.classList.contains('active')) {
      mobileMenu.classList.remove('active');
      icon.classList.remove('fa-times');
      icon.classList.add('fa-bars');
      mobileBtn.style.transform = 'rotate(0deg)';
    }
  }
});

// Set active navigation item based on current page
function setActiveNavItem() {
  const urlParams = new URLSearchParams(window.location.search);
  const currentPage = urlParams.get('page') || 'admin_dashboard';
  const allNavItems = document.querySelectorAll('.nav-item');
  
  allNavItems.forEach(item => {
    item.classList.remove('active');
    const itemPage = item.getAttribute('data-page');
    if (itemPage === currentPage) {
      item.classList.add('active');
    }
  });
}

// Initialize everything when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  setActiveNavItem();
  console.log('UBNHSelect Voters Page initialized successfully!');
});
</script>

</body>
</html>