<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>UBNHSelect Admin Dashboard</title>
<link rel="stylesheet" href="assets/styles/nav.css">
<link rel="stylesheet" href="pages/admin_dashboard/AD_Interface.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="has-top-nav">

<!-- Top Navigation Bar -->
<nav class="top-nav">
  <!-- Background particles -->
  <div class="nav-particles">
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
    <div class="nav-particle"></div>
  </div>
  
  <!-- Logo section -->
  <div class="nav-logo-section">
    <div class="nav-logo-placeholder">
      <i class="fas fa-vote-yea"></i>
    </div>
    <div class="nav-system-name">UBNHSelect System</div>
  </div>
  
  <!-- Desktop navigation menu -->
  <div class="nav-menu">
    <a href="index.php?page=admin_dashboard" class="nav-item active">
      <i class="fas fa-tachometer-alt"></i>
      <span>Admin Dashboard</span>
    </a>
    <a href="index.php?page=candidates" class="nav-item">
      <i class="fas fa-users"></i>
      <span>Candidates</span>
    </a>
    <a href="index.php?page=voters_page" class="nav-item">
      <i class="fas fa-user-check"></i>
      <span>Voters/Members Registration</span>
    </a>
    <a href="index.php?page=ssg_history" class="nav-item">
      <i class="fas fa-history"></i>
      <span>SSG President's History</span>
    </a>
    <a href="index.php?page=about" class="nav-item">
      <i class="fas fa-info-circle"></i>
      <span>About Us</span>
    </a>
    <a href="php/auth/logout.php" class="nav-item logout">
      <i class="fas fa-sign-out-alt"></i>
      <span>Logout</span>
    </a>
  </div>
  
  <!-- Mobile menu button -->
  <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
    <i class="fas fa-bars"></i>
  </button>
  
  <!-- Mobile navigation menu -->
  <div class="mobile-nav-menu" id="mobileNavMenu">
    <a href="index.php?page=admin_dashboard" class="nav-item active">
      <i class="fas fa-tachometer-alt"></i>
      <span>Admin Dashboard</span>
    </a>
    <a href="index.php?page=candidates" class="nav-item">
      <i class="fas fa-users"></i>
      <span>Candidates</span>
    </a>
    <a href="index.php?page=voters_page" class="nav-item">
      <i class="fas fa-user-check"></i>
      <span>Voters/Members Registration</span>
    </a>
    <a href="index.php?page=ssg_history" class="nav-item">
      <i class="fas fa-history"></i>
      <span>SSG President's History</span>
    </a>
    <a href="index.php?page=about" class="nav-item">
      <i class="fas fa-info-circle"></i>
      <span>About Us</span>
    </a>
    <a href="php/auth/logout.php" class="nav-item logout">
      <i class="fas fa-sign-out-alt"></i>
      <span>Logout</span>
    </a>
  </div>
</nav>

<div id="main">
  <main class="content">
    <div class="dashboard-container">
      <header>
        <img src="assets/images-UBNHS/UBNHS_-_LOGO-removebg.png" alt="UBNHS Logo" class="logo">
        <img src="assets/images-UBNHS/TEXT-LOGO2.png" alt="Web Logo" class="logo2">
        <h1>Election Status</h1>
        <div class="header-decoration"></div>
      </header>
        
      <div class="dashboard-grid">
        <div class="stats-cards">
          <div class="stat-card">
            <div class="stat-title">Total Votes</div>
            <div class="stat-value" id="totalVotes">0</div>
            <div class="stat-desc">Votes</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Vote Turnouts</div>
            <div class="stat-value" id="turnoutPercent">0%</div>
            <div class="stat-desc">Turnouts</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Total Candidates</div>
            <div class="stat-value" id="totalCandidates">0</div>
            <div class="stat-desc">Candidates</div>
          </div>
          <div class="stat-card">
            <div class="stat-title">Election Status</div>
            <div class="stat-value live" id="electionStatus">Live</div>
            <div class="stat-desc">Status</div>
          </div>
        </div>
        
        <div class="quick-actions-card">
          <div class="quick-actions-title">Quick Actions</div>
          <button class="quick-action-btn">
            <i class="fas fa-chart-line"></i>
            Detailed Report
          </button>
          <button class="quick-action-btn">
            <i class="fas fa-download"></i>
            Export Results
          </button>
          <button class="quick-action-btn">
            <i class="fas fa-analytics"></i>
            Advance Analytics
          </button>
          <button class="quick-action-btn danger">
            <i class="fas fa-redo"></i>
            Reset Election
          </button>
        </div>
        
        <div class="results-section">
          <div class="results-header">
            <i class="fas fa-trophy"></i>
            Voting Result
          </div>
          <div class="results-subheader">Leading Candidates</div>
          <div class="leading-candidates-list" id="leadingCandidatesList">
            <!-- JS will populate this -->
          </div>
        </div>
        
        <div class="chart-section">
          <div class="chart-header">
            <i class="fas fa-chart-bar"></i>
            Leading Votes
          </div>
          <div class="chart-subheader">Dashboard Insights</div>
          
          <div class="chart-filters">
            <div class="filter-group">
              <label>Data Filters</label>
              <div class="filter-row">
                <select id="committeeSelect" class="filter-select">
                  <option value="all">All Committees</option>
                  <option value="president">President</option>
                  <option value="vice-president">Vice President</option>
                  <option value="secretary">Secretary</option>
                  <option value="treasurer">Treasurer</option>
                  <option value="auditor">Auditor</option>
                  <option value="pio">PIO</option>
                  <option value="po">PO</option>
                  <option value="grade-12-rep">Grade 12 Representative</option>
                  <option value="grade-11-rep">Grade 11 Representative</option>
                  <option value="grade-10-rep">Grade 10 Representative</option>
                  <option value="grade-9-rep">Grade 9 Representative</option>
                  <option value="grade-8-rep">Grade 8 Representative</option>
                  <option value="grade-7-rep">Grade 7 Representative</option>
                </select>
                <select id="yearLevelSelect" class="filter-select">
                  <option value="all">All Year Level</option>
                  <option value="grade-7">Grade 7</option>
                  <option value="grade-8">Grade 8</option>
                  <option value="grade-9">Grade 9</option>
                  <option value="grade-10">Grade 10</option>
                  <option value="grade-11">Grade 11</option>
                  <option value="grade-12">Grade 12</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="chart-container">
            <canvas id="positionsChart"></canvas>
          </div>
        </div>
      </div>
      
      <!-- Floating particles for decoration -->
      <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
      </div>
    </div>
  </main>
</div>

<!-- Advanced Analytics Modal -->
<div id="analyticsModal" class="modal">
  <div class="modal-content">
    <span class="close" id="closeAnalyticsModal">&times;</span>
    <h2>
      <i class="fas fa-chart-bar"></i> Advanced Analytics
    </h2>
    <div class="analytics-grid">
      <div class="analytics-section">
        <div class="analytics-title">Turnout Rate by Grade Level</div>
        <div class="turnout-bars">
          <div class="turnout-bar">
            Grade 12 <span>91%</span>
            <div class="bar-container">
              <div class="bar" style="width:91%; background:#2ecc40;"></div>
            </div>
          </div>
          <div class="turnout-bar">
            Grade 11 <span>85%</span>
            <div class="bar-container">
              <div class="bar" style="width:85%; background:#3498db;"></div>
            </div>
          </div>
          <div class="turnout-bar">
            Grade 10 <span>82%</span>
            <div class="bar-container">
              <div class="bar" style="width:82%; background:#f39c12;"></div>
            </div>
          </div>
          <div class="turnout-bar">
            Grade 9 <span>79%</span>
            <div class="bar-container">
              <div class="bar" style="width:79%; background:#e74c3c;"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="analytics-section">
        <div class="analytics-title">Vote Distribution by Position</div>
        <canvas id="analyticsPieChart"></canvas>
        <div class="chart-legend">
          <span class="legend-item"><span class="color-box" style="background:#3b82f6;"></span> President (33%)</span>
          <span class="legend-item"><span class="color-box" style="background:#22c55e;"></span> VP (22%)</span>
          <span class="legend-item"><span class="color-box" style="background:#f59e42;"></span> Secretary (17%)</span>
          <span class="legend-item"><span class="color-box" style="background:#e74c3c;"></span> Treasurer (14%)</span>
          <span class="legend-item"><span class="color-box" style="background:#888;"></span> Others (14%)</span>
        </div>
      </div>
    </div>
    <div class="voting-progress">
      <div class="analytics-title">Voting Progress Throughout the Day</div>
      <div class="progress-indicators">
        <span class="indicator active"></span>
        <span class="indicator active"></span>
        <span class="indicator active"></span>
        <span class="indicator active"></span>
        <span class="indicator current"></span>
        <span class="indicator"></span>
      </div>
    </div>
    <div class="analytics-grid">
      <div class="analytics-section">
        <div class="analytics-title">Competition Intensity</div>
        <div class="competition-bars">
          <div class="competition-bar">
            President <span>High</span>
            <div class="bar-container">
              <div class="bar" style="width:90%; background:#e74c3c;"></div>
            </div>
          </div>
          <div class="competition-bar">
            VP <span>Medium</span>
            <div class="bar-container">
              <div class="bar" style="width:60%; background:#f39c12;"></div>
            </div>
          </div>
          <div class="competition-bar">
            Secretary <span>Low</span>
            <div class="bar-container">
              <div class="bar" style="width:30%; background:#22c55e;"></div>
            </div>
          </div>
          <div class="competition-bar">
            Treasurer <span>High</span>
            <div class="bar-container">
              <div class="bar" style="width:85%; background:#e74c3c;"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="analytics-section">
        <div class="analytics-title">Vote Trends (Last 2 Hours)</div>
        <canvas id="analyticsLineChart"></canvas>
        <div class="chart-legend">
          <span class="legend-item"><span class="color-box" style="background:#3b82f6;"></span> Dyanna Pineda</span>
          <span class="legend-item"><span class="color-box" style="background:#22c55e;"></span> Alex Rodriguez</span>
          <span class="legend-item"><span class="color-box" style="background:#f59e42;"></span> Maria Santos</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="pages/admin_dashboard/ad_script16.js"></script>
<script>
// Mobile menu toggle function
function toggleMobileMenu() {
  const mobileMenu = document.getElementById('mobileNavMenu');
  mobileMenu.classList.toggle('active');
}

// Close mobile menu when clicking outside
document.addEventListener('click', function(event) {
  const mobileMenu = document.getElementById('mobileNavMenu');
  const mobileBtn = document.querySelector('.mobile-menu-btn');
  
  if (!mobileMenu.contains(event.target) && !mobileBtn.contains(event.target)) {
    mobileMenu.classList.remove('active');
  }
});

// Close mobile menu when window is resized to desktop
window.addEventListener('resize', function() {
  if (window.innerWidth > 768) {
    const mobileMenu = document.getElementById('mobileNavMenu');
    mobileMenu.classList.remove('active');
  }
});

// Set active navigation item based on current page
document.addEventListener('DOMContentLoaded', function() {
  const currentPage = window.location.search;
  const navItems = document.querySelectorAll('.nav-item');
  
  navItems.forEach(item => {
    item.classList.remove('active');
    if (item.getAttribute('href').includes(currentPage) || 
        (currentPage === '' && item.getAttribute('href').includes('admin_dashboard'))) {
      item.classList.add('active');
    }
  });
});
</script>
</body>
</html>